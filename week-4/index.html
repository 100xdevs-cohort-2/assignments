<!DOCTYPE html>
<html>

<head>
  <script>
    let globalId = 1;
    let todoState = [];
    let oldTodoState = [];

    function addTodoToDom() {
      todoContainer = document.getElementById('todos')
      todoContainer.innerHTML = ""
      todoState.map(function(element){
        newTodo = document.createElement('div')
        todoHeading = document.createElement('h1')
        todoHeading.textContent = element.title
        todoDescription = document.createElement('h4')
        todoDescription.textContent = element.description
        todoRemove = document.createElement('button')
        todoRemove.textContent = "Remove"
        todoRemove.onclick = function() {
          
          newState = todoState.filter(item => item !== element)
          console.log(newState)
          updateState(newState)
        };
        
        newTodo.appendChild(todoHeading)
        newTodo.appendChild(todoDescription)
        newTodo.appendChild(todoRemove)
        todoContainer.appendChild(newTodo)
      })
      
    }

    function removeTodoFromDom(todo) {

      todoState = todoState.filter(item => item == todo)
      console.log(todoState)
      // addTodoToDom()

      // newState.map(function(element){
      //   newTodo = document.createElement('div')
      //   todoHeading = document.createElement('h1')
      //   todoHeading.textContent = element.title
      //   todoDescription = document.createElement('h4')
      //   todoDescription.textContent = element.description
      //   todoRemove = document.createElement('button')
      //   todoRemove.textContent = "Remove"
      //   todoRemove.onclick = function() {
      //     newState = todoState.filter(item => item !== element)
      //     updateState(newState)
      //   };
        
      //   newTodo.appendChild(todoHeading)
      //   newTodo.appendChild(todoDescription)
      //   newTodo.appendChild(todoRemove)
      //   todoContainer.appendChild(newTodo)
      // })

    }

    function updateTodoInDom(oldTodo, newTodo) {
        
    }

    function updateState(newTodos) {
      console.log("Debug at updateState(): newTodos: ", newTodos)
      console.log("Debug at updateState(): OldTodos: ",oldTodoState)
      
      
      oldTodoState = newTodos;

      console.log("Debug at updateState() After Assignment: newTodos: ", newTodos)
      console.log("Debug at updateState() After Assignment: OldTodos: ",oldTodoState)
      
    }

    function addTodo() {
      const title = document.getElementById("title").value;
      const description = document.getElementById("description").value;
      todoState.push({
        title: title,
        description: description,
        id: globalId++,
      })
      //console.log("Debug at addTodo(): TodoState: ", todoState)
      updateState(todoState);
    }
  </script>
</head>

<body>
  <input type="text" id="title" placeholder="Todo title"></input> <br /><br />
  <input type="text" id="description" placeholder="Todo description"></input> <br /><br />
  <button onclick="addTodo()">Add todo</button>
  <br /> <br />

  <div id="todos">

  </div>
</body>

</html>